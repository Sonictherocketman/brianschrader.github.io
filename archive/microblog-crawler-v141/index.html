<!DOCTYPE html>
<html>
<head>
	<title>Microblog Crawler v1.4(.1) - BiteofanApple</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="/bin/CSS/stylesheet.css">
	<link rel="stylesheet" type="text/css" href="/bin/CSS/mobile.css">
	<!--
	<link rel="shortcut icon" href="http://images.biteofanapple.com/misc/favicon.ico">
	<link rel="icon" href="http://images.biteofanapple.com/misc/favicon.ico">
	<link rel="apple-touch-icon-precomposed" href="http://images.biteofanapple.com/misc/apple-touch-icon-precomposed.png"/>  
	-->
	<meta property="og:title" content="Microblog Crawler v1.4(.1)" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://brianschrader.com/archive/microblog-crawler-v141/" />	
  <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/>
	<script type="text/javascript" src="/bin/jquery-1.9.1.min.js"></script>
</head>
<body>
<div id="content">
	<div id="title-bar">
		<!-- Desktop Nav -->
		<span>
			<!-- Name and Author -->
			<span class="menuBarItem" style="margin-left: 10px; font-size:2em;"><a href="/">BiteofanApple</a></span>
			<!-- Links -->
			<span class="menuBarItem" style="margin-left: 40px;"><a href="/archive/">Archive</a></span>
			<span class="menuBarItem"><a href="/about/">About</a></span>
			<span class="menuBarItem"><a href="https://github.com/Sonictherocketman">Code</a></span>
			<span class="menuBarItem"><a href="http://sonicrocketman.snippets.xyz">Microblog</a></span>
			<br>
			<span class="menuBarItem" style=" position:absolute; margin-top:-80px; margin-left:10px; font-size:10pt; font-style:italic;">by <a href="/about/">Brian Schrader</a></span>
		</span>	
		<!-- Mobile Nav -->
		<div class="mobile-nav">
			<!-- Name and Author -->
			<div style="text-align:center; margin-top:-20pt;">
				<span class="" style="font-size:2em;"><a href="/">BiteofanApple</a></span>
			</div>
			<!-- Links -->
			<div style="margin-top:2%;">
				<span class="mobileMenuBarItem" style=""><a href="/archive/">Archive</a></span>
				<span class="mobileMenuBarItem"><a href="/about/">About</a></span>
				<span class="mobileMenuBarItem"><a href="https://github.com/Sonictherocketman">Code</a></span>
			  <span class="mobileMenuBarItem"><a href="http://sonicrocketman.snippets.xyz">Microblog</a></span>
			</div>
		</div>	
	</div>
	<div id="post-list">
		<article>
			<div class="post">
				<div class="article-title">
					<h1><a href="/archive/microblog-crawler-v141/">Microblog Crawler v1.4(.1)</a></h1>
					<small style="font-style:italic;">Posted on Sat, 25 Apr 2015 at 10:29 PM</small>
				</div>
				<div class="article-content">
					<p>Version 1.4.1 of my MicroblogCrawler is out on <a href="https://pypi.python.org/pypi/MicroblogCrawler/1.4.1">PyPi</a>! Technically v1.4 was out last week but it had a fairly large bug that needed fixing. 1.4.1 has patched it and it's ready for prime time.</p>
<p>v1.4.1 is full of enhancements, a few of which are listed here:</p>
<ul>
<li>Calling stop now actually stops the crawler. This bug was due to a nasty bug in Python's multiprocessing module (9400). The crawler now alerts you when such a problem arises by outputting it through the on_error callback.</li>
<li>Fixed a bug that would cause feeds to throw errors if no <code>pubdate</code> element was found. Elements are not parsed but are discarded, and on_error is called.</li>
<li>Fixed a major bug when attempting to stop the crawler immediately.</li>
</ul>
<p><a href="https://github.com/Sonictherocketman/microblog_crawler">The full version notes are available here.</a></p>
<p>The major enhancement in this version (besides the graceful exiting) was the addition of a workaround for a <a href="http://bugs.python.org/issue9400">bug in Python's multiprocessing module</a>. The bug has to do with what happens to exceptions raised in child processes. When they are raised, they are pickled and sent back to the parent process. The problem arises when an exception is not pickleable. The child process hangs and never exits. The interesting thing is that the bug was first reported in 2010 and affects all versions of Python since 2010 (i.e. 2.7, 3.2, 3.3, 3.4). This bug has been baffling me since I started converting the crawler to be multiprocessed, and its nice to finally have a workaround. </p>
<p>If anyone out there is using MicroblogCrawler, I'd love to hear from you, and pull requests are very welcome!</p>				
				</div>
			</div>
		</article>
		<div style="text-align:center;">
			<div class="article-content">
				<span style="font-size:small;">
					<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
						<img alt="Creative Commons License" style="border-width:0" src="/images/misc/cc-license.png" />
					</a>
			</div>
		</div>
	</div>
</div>
</body>
</html>
