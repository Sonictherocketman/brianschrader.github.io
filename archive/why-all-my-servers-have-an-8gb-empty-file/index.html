<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Why All My Servers Have an 8GB Empty File - BiteofanApple</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="webmention" href="https://pine.blog/api/webmention/r/f4ecb3b3-6edc-4baa-9553-4f678c3e4b96" />
    <link rel="icon" type="image/png" href="//www.gravatar.com/avatar/11b074a636e00292c98e3e60f7e16595?size=30">
    <link rel="stylesheet" type="text/css" href="/bin/css/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="/bin/css/mobile.css">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/>
    <link rel="alternate" type="application/json" title="JSON Feed" href="/feed.json"/>
    
  <meta property="og:title" content="Why All My Servers Have an 8GB Empty File" />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="http://brianschrader.com/archive/why-all-my-servers-have-an-8gb-empty-file/" />

  </head>
  <body>
    <div id="content">
      <div class="nav-container">
  <nav class="nav">
    <div class="nav-item nav-brand">
      <a href="/" class="site-title">
        BiteofanApple
      </a>
      <span
        class="author-tag hide-on-mobile"
      >
        by <a href="/about/">Brian Schrader</a>
      </span>
    </div>
    <div class="nav-item"><a href="/archive/">Archive</a></div>
    <div class="nav-item"><a href="/about/">About</a></div>
    <div class="nav-item"><a href="https://skyrocket.software">Apps</a></div>
    <div class="nav-item"><a href="https://pine.blog/u/sonicrocketman">Microblog</a></div>
  </nav>
</div>
      
  <div class="bars">
    <div class="main-bar">
      <article class="h-entry">
        <a href="/" class="u-author"></a>
        <div class="post">
        <div class="article-title">
          <h1 class="p-name">
            <a
              href="/archive/why-all-my-servers-have-an-8gb-empty-file/"
              title="Why All My Servers Have an 8GB Empty File"
            >
              Why All My Servers Have an 8GB Empty File
            </a>
          </h1>
          <small style="font-style:italic;">
            <time class="dt-published" datetime="2021-03-25T18:39:00">
              Posted on Thu, 25 Mar 2021 at 06:39 PM
            </time>
          </small>
        </div>
        <div class="article-content e-content">
          <p>Last night I was listening to the latest <a href="https://www.relay.fm/radar/213">Under the Radar</a>, where Marco Arment dove into nerdy detail about his recent <a href="https://overcast.fm">Overcast</a> server issues. The discussion was great, and you should listen to it, but Marco's recent server troubles were pretty similar to my own <a href="/archive/pineblog-downtime-post-mortem-a-story-of-finite-resources/">server issues</a> from last year, and so I figured I'd share my life-hack solution for anyone out there with the same problem.</p>
<h2>The what and where</h2>
<p>Both hosts, Marco Arment and David Smith, run their own servers on Linode&mdash;as do I&mdash;and I found myself nodding along in solidarity with Marco as he discussed his toils during a painful database server migration. Here's the crux of what happened in <a href="https://overcast.fm/+FgnbaF18Q/14:09">Marco's own words</a>:</p>
<blockquote>
<p>The disk filled up, and that's one thing you don't want on a Linux server&mdash;or a Mac for that matter. When the disk is full nothing good happens.</p>
</blockquote>
<p>One thing Marco said hit me particularly close to home:</p>
<blockquote>
<p>Server administration, when you're an indie, is very lonely.</p>
</blockquote>
<p>During my major downtime problem last year, I felt incredibly isolated and frustrated. There was no one to help me and no time to spare. My site was down and it was down for a while. My problem was basically the same: my database server filled up (but for a different reason). And as Marco said, when the disk is full, nothing good happens.</p>
<p>In the days after I fixed my server issues, I wanted to ensure that even if things got filled up again, I would never have trouble fixing the problem.</p>
<h2>A cheap hack? Yes. Effective? Also Yes.</h2>
<p>On Linux servers it can be incredibly difficult for any process to succeed if the disk is full. Copy commands and even deletions can fail or take forever as memory tries to swap to a full disk and there's very little you can do to free up large chunks of space. But what if there was a way to free up a large chunk of space on disk right when you need it most? Enter the <code>dd</code> command<sup>1</sup>.</p>
<p>As of last year, all of my servers have an 8GB empty <code>spacer.img</code> file that does absolutely nothing except take up space. That way in a moment of full-disk crisis I can simply delete it and buy myself some critical time to debug and fix the problem. 8GB is a significant amount of space, but storage is cheap enough these days that hoarding that much space is basically unnoticeable... until I really need it. Then it makes all the difference in the world.</p>
<p>That's it. That's why I keep a useless file on disk at all times: so I can one day delete it. This solution is super simple, trivial to implement, and easy to utilize. Obviously the real solution is to not fill up the database server, but as with Marco's migration woes, sometimes servers do fill up because of simple mistakes or design flaws. When that time comes, it's good to have a plan, because otherwise you're stuck with a full disk and a really bad day.</p>
<div class="footnote">
<sup>1</sup> There are <a href="https://www.cyberciti.biz/faq/howto-create-lage-files-with-dd-command/"> lots of tools you can use to do</a> this besides dd. I just prefer it.
</div>
        </div>
        <hr />
        
        <small>
          Filed under:
          <span class="tags article-content">
            
              <a href="/tags.html#tag-marco" title="marco" class="tag">marco</a>,
            
              <a href="/tags.html#tag- software development" title=" software development" class="tag"> software development</a>,
            
              <a href="/tags.html#tag- web dev" title=" web dev" class="tag"> web dev</a>
            
          </span>
        </small>
        
      </div>
      </article>
    </div>
    <div class="side-bar">
      <div class="promotion">
  <div>
    <a href="https://goingindie.tech" title="Going Indie More Information">
      <img
          class="promotion-cover"
          src="/images/going-indie/cover-icon.jpg"
          height="100px"
          width="100px"
      />
    </a>
  </div>
  <div>
    Going Indie
    <small>
      <p>
        A complete guide to becoming an independent software developer
      </p>
      <a href="https://goingindie.tech" title="Going Indie Order Now">
      Order Now &#8594;
      </a>
    </small>
  </div>
</div>
<h4>Featured Posts</h4>
<ul>
  
  <li><a href="/archive/grove/" title="Grove, a new Tree-planting Wellness Game ðŸŽ‰" rel="nofollow">
    Grove, a new Tree-planting Wellness Game ðŸŽ‰
  </a></li>
  
  <li><a href="/archive/announcing-hewell-public-beta-/" title="Announcing: Hewell Public Beta ðŸŽ‰" rel="nofollow">
    Announcing: Hewell Public Beta ðŸŽ‰
  </a></li>
  
  <li><a href="/archive/on-uber-lyft-and-labor-law/" title="On Uber, Lyft, and Labor Law" rel="nofollow">
    On Uber, Lyft, and Labor Law
  </a></li>
  
  <li><a href="/archive/d20photos-a-public-domain-dd-image-repository/" title="d20.photos: A Public Domain D&amp;D Image Repository" rel="nofollow">
    d20.photos: A Public Domain D&amp;D Image Repository
  </a></li>
  
  <li><a href="/archive/announcing-nine9scloud-/" title="Announcing Nine9s.cloud ðŸŽ‰" rel="nofollow">
    Announcing Nine9s.cloud ðŸŽ‰
  </a></li>
  
  <li><a href="/archive/why-were-polarized/" title="Why We&#39;re Polarized" rel="nofollow">
    Why We&#39;re Polarized
  </a></li>
  
  <li><a href="/archive/a-new-adventure/" title="A New Adventure" rel="nofollow">
    A New Adventure
  </a></li>
  
  <li><a href="/archive/the-social-web/" title="The Social Web" rel="nofollow">
    The Social Web
  </a></li>
  
  <li><a href="/archive/feed-readers-and-local-news/" title="Feed Readers and Local News" rel="nofollow">
    Feed Readers and Local News
  </a></li>
  
  <li><a href="/archive/the-web-as-a-social-network/" title="The Web as a Social Network" rel="nofollow">
    The Web as a Social Network
  </a></li>
  
</ul>
<h4>Also Me</h4>
<ul>
  <li><a href="http://pine.blog/u/sonicrocketman" title="Pine.blog" rel="nofollow me">
    Pine.blog
  </a></li>
  <li><a href="https://github.com/sonictherocketman/" title="GitHub" rel="nofollow me">
    GitHub
  </a></li>
  <li><a href="https://twitter.com/sonicrocketman" title="Twitter" rel="nofollow me">
    Twitter
  </a></li>
  <li><a href="//pinboard.in/u:sonicrocketman/public/" title="Pinboard" rel="nofollow me">
    Pinboard
  </a></li>
  <li><a href="http://photos.brianschrader.com" title="My Photoblog" rel="nofollow me">
    Photoblog
  </a></li>
  <li><a href="https://en.gravatar.com/sonicrocketman" title="Gravatar" rel="nofollow me">
    Gravatar
  </a></li>
  <li><a href="https://sonicrocketman.bandcamp.com" title="Bandcamp" rel="nofollow me">
    Bandcamp
  </a></li>
  <li><a href="https://www.goodreads.com/user/show/119559749-brian-schrader" title="Goodreads" rel="nofollow me">
    Goodreads
  </a></li>
</ul>
<h4>Projects</h4>
<ul>
  <li><a href="http://democracyandprogress.com" title="Democracy and Progress">
    Democracy &amp; Progress
  </a></li>
  <li><a href="https://goingindie.tech" title="Going Indie">
    Going Indie
  </a></li>
  <li><a href="https://pine.blog" title="Pine.blog" rel="nofollow">
    Pine.blog
  </a></li>
  <li><a href="https://indiedevlife.fm" title="Indie Dev Life Podcast">
    Indie Dev Life Podcast
  </a></li>
  <li><a href="https://nine9s.cloud" title="Nine9s" rel="nofollow">
    Nine9s
  </a></li>
  <li><a href="https://d20.photos" title="d20.photos" rel="nofollow">
    d20.photos
  </a></li>
  <li><a href="https://adventurerscodex.com" title="Adventurer's Codex" rel="nofollow">
    Adventurer&apos;s Codex
  </a></li>
</ul>
<h4>Resources</h4>
<ul>
  <li><a href="/archive/bookshelf" title="Book Recommendations">
    Book Recommendations
  </a></li>
  <li><a href="/archive/recipes/" title="Food and Drink Recipes">
    Food &amp; Drink Recipes
  </a></li>
  <li><a href="/tags.html" title="Posts by Tag">
    Tags
  </a></li>
</ul>
<h4>Other Writings</h4>
<ul>
  <b>The Way Forward (Series)</b>
  <li>
    <ul>
      <li><a href="https://sduptownnews.com/guest-editorial-the-way-forward-conquering-the-pandemic/" title="Conquering the pandemic">
        Conquering the pandemic
      </a></li>
      <li><a href="https://sduptownnews.com/guest-editorial-the-way-forward-jobs-for-all/" title="Jobs for all">
        Jobs for all
      </a></li>
      <li><a href="https://sduptownnews.com/the-way-forward-democracy-is-the-answer/" title="Democracy is the answer">
        Democracy is the answer
      </a></li>
      <li><a href="https://sduptownnews.com/guest-editorial-the-way-forward-what-democracy-means/" title="What democracy means">
        What democracy means
      </a></li>
    </ul>
  </li>
</ul>
<ul>
  <b>Assorted Works</b>
  <li>
    <ul>
      <li><a href="https://sduptownnews.com/californians-deserve-better-data-protection/" title="Californians deserve better data protection">
        Californians deserve better data protection
      </a></li>
      <li><a href="https://sduptownnews.com/not-planning-on-voting-read-this/" title="Not planning on voting? Read this">
        Not planning on voting? Read this
      </a></li>
      <li><a href="https://sduptownnews.com/guest-editorial-rounding-the-corner/" title="Rounding the corner">
        Rounding the corner
      </a></li>
      <li><a href="https://sduptownnews.com/the-scale-of-homelessness-in-san-diego/" title="The scale of homelessness in San Diego">
        The scale of homelessness in San Diego
      </a></li>
      <li><a href="https://sandiegodowntownnews.com/latest-on-the-meade-bikeway/" title="Latest on the Meade Bikeway">
        Latest on the Meade Bikeway
      </a></li>
    </ul>
  </li>
</ul>
<h4>Tags</h4>
<div class="tags">
  
    <a href="/tags.html#tag-software" title="software" class="tag">software</a>,
  
    <a href="/tags.html#tag-programming" title="programming" class="tag">programming</a>,
  
    <a href="/tags.html#tag-pine.blog" title="pine.blog" class="tag">pine.blog</a>,
  
    <a href="/tags.html#tag-open web" title="open web" class="tag">open web</a>,
  
    <a href="/tags.html#tag-blogging" title="blogging" class="tag">blogging</a>,
  
    <a href="/tags.html#tag-software development" title="software development" class="tag">software development</a>,
  
    <a href="/tags.html#tag-development" title="development" class="tag">development</a>,
  
    <a href="/tags.html#tag-politics" title="politics" class="tag">politics</a>,
  
    <a href="/tags.html#tag-history" title="history" class="tag">history</a>,
  
    <a href="/tags.html#tag-python" title="python" class="tag">python</a>
  
</div>
<h4>Blogroll</h4>
<ul>
  <li><a href="https://vincentritter.com/" title="Vincent Ritter" rel="nofollow">
    Vincent Ritter
  </a></li>
  <li><a href="https://gregorlove.com/" title="gRegorLove.com" rel="nofollow">
    gRegorLove.com
  </a></li>
  <li><a href="https://eli.li/" title="Oatmeal" rel="nofollow">
    Oatmeal
  </a></li>
  <li><a href="https://aaronparecki.com/" title="Aaron Parecki" rel="nofollow">
    Aaron Parecki
  </a></li>
  <li><a href="http://inessential.com/" title="inessential" rel="nofollow">
    inessential
  </a></li>
  <li><a href="http://idlewords.com/" title="Idle Words" rel="nofollow">
    Idle Words
  </a></li>
  <li><a href="http://macgenie.micro.blog/" title="Jean MacDonald" rel="nofollow">
    Jean MacDonald
  </a></li>
  <li><a href="https://www.vox.com/authors/ezra-klein" title="Ezra Klein" rel="nofollow">
    Ezra Klein
  </a></li>
  <li><a href="https://pine.blog/u/photosaboutadams" title="Photos About Adams" rel="nofollow">
    Photos About Adams
  </a></li>
  <li><a href="https://iifrp.org" title="IIFRP.org" rel="nofollow">
    IIFRP.org
  </a></li>
  <li><a href="http://mattgemmell.com/" title="Matt Gemmell" rel="nofollow">
    Matt Gemmell
  </a></li>
  <li><a href="http://hypercritical.co/" title="Hypercritical" rel="nofollow">
    Hypercritical
  </a></li>
  <li><a href="https://twitter.com/HelloMelanieC" title="Melanie Crutchfield" rel="nofollow">
    Melanie Crutchfield
  </a></li>
  <li><a href="http://jvns.ca/" title="Julia Evans" rel="nofollow">
    Julia Evans
  </a></li>
  <li><a href="https://kateheddleston.com/blog" title="Kate Heddleston" rel="nofollow">
    Kate Heddleston
  </a></li>
  <li><a href="https://beckyhansmeyer.com/" title="Becky Hansmeyer" rel="nofollow">
    Becky Hansmeyer
  </a></li>
  <li><a href="https://adventurerscodex.com/blog.html" title="Adventurer's Codex Blog" rel="nofollow">
    Adventurer's Codex Blog
  </a></li>
  <li><a href="https://blog.pine.blog/" title="Pine.blog Official Blog" rel="nofollow">
    Pine.blog Official Blog
  </a></li>
  <li><a href="https://www.peoplespolicyproject.org/" title="People's Policy Project" rel="nofollow">
    People's Policy Project
  </a></li>
</ul>
    </div>
  </div>
  <div style="text-align:center;">
    <div class="article-content">
      <span style="font-size:small;">
        <a rel="alternate" href="/rss.xml">
          RSS
        </a>
    </div>
  </div>

    </div>
  </body>
</html>