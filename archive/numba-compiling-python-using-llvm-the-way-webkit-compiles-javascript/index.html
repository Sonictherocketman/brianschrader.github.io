<!DOCTYPE html>
<html>
<head>
	<title>Numba: Compiling Python Using LLVM the way WebKit Compiles JavaScript - BiteofanApple</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="/bin/CSS/stylesheet.css">
	<link rel="stylesheet" type="text/css" href="/bin/CSS/mobile.css">

	<meta property="og:title" content="Numba: Compiling Python Using LLVM the way WebKit Compiles JavaScript" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://brianschrader.com/archive/numba-compiling-python-using-llvm-the-way-webkit-compiles-javascript/" />	
  <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/>
	<script type="text/javascript" src="/bin/jquery-1.9.1.min.js"></script>
</head>
<body>
<div id="content">
	<div id="title-bar">
		<!-- Desktop Nav -->
		<span>
			<!-- Name and Author -->
			<span class="menuBarItem" style="margin-left: 10px; font-size:2em;"><a href="/">BiteofanApple</a></span>
			<!-- Links -->
			<span class="menuBarItem" style="margin-left: 40px;"><a href="/archive/">Archive</a></span>
			<span class="menuBarItem"><a href="/about/">About</a></span>
			<span class="menuBarItem"><a href="https://github.com/Sonictherocketman">Code</a></span>
			<span class="menuBarItem"><a href="http://sonicrocketman.snippets.xyz">Microblog</a></span>
			<br>
			<span class="menuBarItem" style=" position:absolute; margin-top:-80px; margin-left:10px; font-size:10pt; font-style:italic;">by <a href="/about/">Brian Schrader</a></span>
		</span>	
		<!-- Mobile Nav -->
		<div class="mobile-nav">
			<!-- Name and Author -->
			<div style="text-align:center; margin-top:-20pt;">
				<span class="" style="font-size:2em;"><a href="/">BiteofanApple</a></span>
			</div>
			<!-- Links -->
			<div style="margin-top:2%;">
				<span class="mobileMenuBarItem" style=""><a href="/archive/">Archive</a></span>
				<span class="mobileMenuBarItem"><a href="/about/">About</a></span>
				<span class="mobileMenuBarItem"><a href="https://github.com/Sonictherocketman">Code</a></span>
			  <span class="mobileMenuBarItem"><a href="http://sonicrocketman.snippets.xyz">Microblog</a></span>
			</div>
		</div>	
	</div>
	<div id="post-list">
		<article>
			<div class="post">
				<div class="article-title">
					<h1><a href="/archive/numba-compiling-python-using-llvm-the-way-webkit-compiles-javascript/">Numba: Compiling Python Using LLVM the way WebKit Compiles JavaScript</a></h1>
					<small style="font-style:italic;">Posted on Sat, 30 Aug 2014 at 11:10 PM</small>
				</div>
				<div class="article-content">
					<p><link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css"></p>
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<p>In May, Apple announced a <a href="https://www.webkit.org/blog/3362/introducing-the-webkit-ftl-jit/">new feature in WebKit</a> that added a fourth tier of speed optimization for JavaScript in Safari. In this new tier, JavaScript would be compiled to machine code (specifics aside). This kind of optimization (called FTL JIT) gave Webkit a 35% performance boost when compared to the third tier of optimization, pretty impressive.</p>
<p>It seems someone thought that JavaScript was getting all the love when it came to speed optimizations and thought Python should benefit from this idea as well. That became <a href="http://numba.pydata.org">Numba</a>. Numba allows Python developers to annotate any given segment in their code, that segment will be just-in-time (JIT) compiled using LLVM giving it, potentially, a 2 orders of magnitude improvement in speed! </p>
<pre><code class="python"># Code from http://numba.pydata.org
from numba import jit
from numpy import arange

# jit decorator tells Numba to compile this function.
# The argument types will be inferred by Numba when function is called.
@jit
def sum2d(arr):
    M, N = arr.shape
    result = 0.0
    for i in range(M):
        for j in range(N):
            result += arr[i,j]
    return result

a = arange(9).reshape(3,3)
print(sum2d(a))
</code></pre>

<p>After talking to someone who'd actually used Numba in their code, they say their code saw anywhere from 2x to 500x speed improvements depending on what they were doing (using regular, old vanilla Python). That's really impressive. I can't wait to try out Numba, and I think I have some very interesting use cases coming up where this might be the solution I've been looking for.</p>				
				</div>
			</div>
		</article>
		<div style="text-align:center;">
			<div class="article-content">
				<span style="font-size:small;">
					<a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
						<img alt="Creative Commons License" style="border-width:0" src="/images/misc/cc-license.png" />
					</a>
			</div>
		</div>
	</div>
</div>
</body>
</html>
