<!DOCTYPE html>
<html>
<head>
	<title>Numba: Compiling Python Using LLVM the way WebKit Compiles JavaScript - BiteofanApple</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="/bin/css/stylesheet.css">
	<link rel="stylesheet" type="text/css" href="/bin/css/mobile.css">
  <link rel="icon" type="image/png" href="//www.gravatar.com/avatar/11b074a636e00292c98e3e60f7e16595?size=30">
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Numba: Compiling Python Using LLVM the way WebKit Compiles JavaScript" />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="http://brianschrader.com/archive/numba-compiling-python-using-llvm-the-way-webkit-compiles-javascript/" />
  <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml"/>
  <link rel="alternate" type="application/json" title="JSON Feed" href="/feed.json"/>
</head>
<body>
<div id="content">
  <div class="nav-container">
    <nav class="nav">
      <div class="nav-item nav-brand">
        <a href="/" class="site-title">
          BiteofanApple
        </a>
        <span
          class="author-tag hide-on-mobile"
        >
          by <a href="/about/">Brian Schrader</a>
        </span>
      </div>
      <div class="nav-item"><a href="/archive/">Archive</a></div>
      <div class="nav-item"><a href="/about/">About</a></div>
      <div class="nav-item"><a href="https://skyrocket.software">Apps</a></div>
      <div class="nav-item"><a href="https://pine.blog/u/sonicrocketman">Microblog</a></div>
      <div class="nav-item hide-on-mobile"><a href="http://photos.brianschrader.com">Photos</a></div>
      <div class="nav-item hide-on-mobile"><a href="//pinboard.in/u:sonicrocketman/public/">Links</a></div>
    </nav>
  </div>
	<div id="post-list">
		<article class="h-entry">
		  <a href="/" class="u-author"></a>
			<div class="post">
				<div class="article-title">
					<h1 class="p-name"><a href="/archive/numba-compiling-python-using-llvm-the-way-webkit-compiles-javascript/">Numba: Compiling Python Using LLVM the way WebKit Compiles JavaScript</a></h1>
					<small style="font-style:italic;">
					  <time class="dt-published" datetime="2014-08-30T23:10:00-08:00">
  					  Posted on Sat, 30 Aug 2014 at 11:10 PM
  					</time>
					</small>
				</div>
				<div class="article-content e-content">
					<p><link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css"></p>
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

<p>In May, Apple announced a <a href="https://www.webkit.org/blog/3362/introducing-the-webkit-ftl-jit/">new feature in WebKit</a> that added a fourth tier of speed optimization for JavaScript in Safari. In this new tier, JavaScript would be compiled to machine code (specifics aside). This kind of optimization (called FTL JIT) gave Webkit a 35% performance boost when compared to the third tier of optimization, pretty impressive.</p>
<p>It seems someone thought that JavaScript was getting all the love when it came to speed optimizations and thought Python should benefit from this idea as well. That became <a href="http://numba.pydata.org">Numba</a>. Numba allows Python developers to annotate any given segment in their code, that segment will be just-in-time (JIT) compiled using LLVM giving it, potentially, a 2 orders of magnitude improvement in speed! </p>
<pre><code class="python"># Code from http://numba.pydata.org
from numba import jit
from numpy import arange

# jit decorator tells Numba to compile this function.
# The argument types will be inferred by Numba when function is called.
@jit
def sum2d(arr):
    M, N = arr.shape
    result = 0.0
    for i in range(M):
        for j in range(N):
            result += arr[i,j]
    return result

a = arange(9).reshape(3,3)
print(sum2d(a))
</code></pre>

<p>After talking to someone who'd actually used Numba in their code, they say their code saw anywhere from 2x to 500x speed improvements depending on what they were doing (using regular, old vanilla Python). That's really impressive. I can't wait to try out Numba, and I think I have some very interesting use cases coming up where this might be the solution I've been looking for.</p>
				</div>
			</div>
		</article>
		<div style="text-align:center;">
			<div class="article-content">
				<span style="font-size:small;">
          <a rel="alternate" href="/rss.xml">
            RSS
          </a>
			</div>
		</div>
	</div>
</div>
</body>
</html>
