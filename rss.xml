<?xml version="1.0" encoding="iso-8859-1"?>
<rss version="2.0"><channel><title>BiteofanApple by Brian Schrader</title><link>http://brianschrader.com</link><description>Thoughts, and ramblings about technology, programming, history, and whatever else I'm interested in.</description><lastBuildDate>Mon, 05 Mar 2018 06:17:11 +0000</lastBuildDate><category>programming</category><category>history</category><category>science</category><category>personal</category><category>technology</category><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><image><url>http://www.gravatar.com/avatar/11b074a636e00292c98e3e60f7e16595</url><title>sonicrocketman</title><link>http://brianschrader.com</link></image><item><title>Safari's WebSocket Stream View</title><link>http://brianschrader.com/archive/safaris-websocket-stream-view/</link><description>&lt;p&gt;I've mentioned before that &lt;a href="https://adventurerscodex.com"&gt;Adventurer's Codex&lt;/a&gt; uses XMPP over WebSockets for it's live-chat and party features, and we're planning to add lots more of these kinds of features in the future. That being said, as a developer, I've had a pretty difficult time building features that rely on WebSockets because it's kind of annoying to see exactly what is being sent and received over the connection. I know that Chrome has some features to help with developing WebSocket applications, but I've never had a good experience with them, and I use Safari as my default browser for both casual use and for web development.&lt;/p&gt;
&lt;p&gt;That said, I stumbled across a new WebSocket Stream View in Safari's Dev Tools and, just like when &lt;a href="/archive/gits-hidden-feature-notes/"&gt;I discovered that Git supports notes&lt;/a&gt;, I got really excited. Clicking on an active WebSocket connection now brings up a live timeline of every message sent and received by the browser over that connection. It even shows the &lt;code&gt;ping/pong&lt;/code&gt; frames that the browser occasionally sends to verify that the connection is still open.&lt;/p&gt;
&lt;div class="image-container"&gt;
    &lt;img src="/images/blog/safari-websocket-stream-viewer.png"
         alt="safari websocket viewer"&gt;
    &lt;p&gt;&lt;small&gt;Safari's New WebSocket Stream View&lt;/small&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;I'm hoping that this new view will make it a lot easier to debug problems because I can now see exactly what's being sent over the connection. I'm not sure when this was added to the Safari Dev Tools, but it's definitely very welcome.&lt;/p&gt;</description><category>development</category><category> software</category><category> programming</category><category> adventurer's codex</category><category> xmpp</category><guid isPermaLink="true">http://brianschrader.com/archive/safaris-websocket-stream-view</guid><pubDate>Sun, 04 Mar 2018 22:16:00 -0800</pubDate></item><item><title>Git's Hidden Feature: Notes</title><link>http://brianschrader.com/archive/gits-hidden-feature-notes/</link><description>&lt;p&gt;When I'm programming I tend to create a lot of experimental branches to test my ideas before actually implementing them, and a lot of times I'll leave these branches in some half-state or with uncommitted changes. Then when I come back I've forgotten what I was doing and why. After running into exactly this problem earlier today, I started wondring if there was something built into Git that would give me a place to write notes to myself without committing.&lt;/p&gt;
&lt;p&gt;Well, apparently there is: Git has built in notes!&lt;/p&gt;
&lt;p&gt;According &lt;a href="https://git-scm.com/docs/git-notes"&gt;to the docs&lt;/a&gt; you can use the command &lt;code&gt;git notes&lt;/code&gt; which:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Adds, removes, or reads notes attached to objects, without touching the objects themselves.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It's always exciting for me to discover a cool new tool, and even more so when I learn more about one I already use.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://git-scm.com/docs/git-notes"&gt;Git Notes Documentation &amp;#8594;&lt;/a&gt;&lt;/p&gt;</description><category>git</category><category> development</category><category> software</category><category> programming</category><guid isPermaLink="true">http://brianschrader.com/archive/gits-hidden-feature-notes</guid><pubDate>Sun, 04 Mar 2018 20:37:00 -0800</pubDate></item><item><title>Real Life Science Fiction</title><link>http://brianschrader.com/archive/real-life-science-fiction/</link><description>&lt;p&gt;Earlier today SpaceX launched their first Falcon-Heavy Rocket with Elon's personal Tesla onboard. All in all the launch went really well, and congrats to everyone at SpaceX for making it possible &#127881;. There was a lot of amazing technological development and hard-core engineering that had to happen to make all of it possible, and it was amazing to watch, but one part in particular felt surreal.&lt;/p&gt;
&lt;p&gt;Falcon Heavy is an absolutely huge rocket. According to &lt;a href="http://www.spacex.com/falcon-heavy"&gt;SpaceX&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Only the Saturn V moon rocket, last flown in 1973, delivered more payload to orbit.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For me though, the real crowning moment, the minute everything stopped being real and starting being Science Fiction was when the first stage boosters came back down, and landed in perfect sync; it felt like complete magic.&lt;/p&gt;
&lt;video class="image-center" controls&gt;
  &lt;source src="/images/blog/SpaceX-Booster-Landing-Short.mp4" type="video/mp4"&gt;
    Your browser does not support this video.
&lt;/video&gt;

&lt;p&gt;Most days we're trapped in the real world, but things like today's landing are so awesome that, for a second, it can feel like we're living in a Fantasy or Sci-Fi universe. While I don't really approve of SpaceX's corporate practices, they do truly amazing and fantastic work, and the people there are top notch. I can't wait for the next launch.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/images/blog/SpaceX-Booster-Landing-Docks.jpg"&gt;Another view of the landing &amp;#8594;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/images/blog/SpaceX-Booster-Landing.mp4"&gt;The full landing video with audio &amp;#8594;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=BHIo6qwJarI"&gt;Some music to go with the video &amp;#8594;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=wbSwFU6tY1c&amp;amp;t=2279s"&gt;The full stream on YouTube &amp;#8594;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description><category>space</category><category> spacex</category><category> rockets</category><category> future</category><guid isPermaLink="true">http://brianschrader.com/archive/real-life-science-fiction</guid><pubDate>Tue, 06 Feb 2018 17:59:00 -0800</pubDate></item><item><title>The Web as a Social Network</title><link>http://brianschrader.com/archive/the-web-as-a-social-network/</link><description>&lt;p&gt;&lt;a href="http://inessential.com/2018/02/01/why_micro_blog_is_not_another_app_net"&gt;Brent Simmons on Micro.blog&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Twitter and Facebook are convenient, sure, but so are fossil fuels, and the cost was similarly unknown for a long time. But now we have some idea just how bad these things are for the world....&lt;/p&gt;
&lt;p&gt;[With &lt;a href="https://micro.blog"&gt;Micro.Blog&lt;/a&gt;] your posts are just a normal, everyday part of the open web. At this writing, mine appear on micro.inessential.com &#8212; but it&#8217;s on my to-do list to have those appear on my main blog (this blog) instead. (Probably won&#8217;t happen until after I ship the app I&#8217;m currently working on.)&lt;/p&gt;
&lt;p&gt;And this is how it used to be, and how it never should have stopped being: my blog is me on the web. I own my blog: I own me.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Here's where I'd normally write something like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Brent is right. Blogs and microblogs can and are the future of social networks. They allow you to keep control of your content, and protect you from huge, often nefarious corporate whims...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But any reader of this site will already know my feelings on the Open Web and Social Networking. So this time I've decided to make this post a retrospective on what I've said before, and how my opinions, and the web has changed over the last few years.&lt;/p&gt;
&lt;h2&gt;The Open Web Series Collection&lt;/h2&gt;
&lt;p&gt;My first post about the Open Web was from July 2014, when this blog was still in it's infancy. Since then I've basically written about this subject whenever it's come up in the circles I travel in. At first I was just concerned with preserving my site and my thoughts for the future, but over time I morphed into the Open Web loving nerd you see before you today.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/re-permanence/"&gt;Re: Permanence (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;How much history is lost by those who live it not writing it down. With the internet, we have the ability (assuming storage is cheap) to preserve everything we ever say, think, write, or post. That's really powerful, and possible accountability and privacy issues aside, its probably the most important use of an invention in the history of man.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/permanence-revisited/"&gt;Permanence Revisited (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;I've retweeted &lt;a href="https://twitter.com/gruber/status/1024766035"&gt;this tweet&lt;/a&gt; multiple times, mostly because it's hilarious, but every time I want to do so, even though I have it saved in Instapaper and favorited on Twitter, its easier to google the text of the tweet (as close as I can remember) and let Google do the work.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After a while I got it into my head that RSS could be used for a new (old?) kind of social network, and I've been rolling with that idea ever since.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/waffle-brent-and-marco-on-social-networks/"&gt;Waffle, Brent and Marco on Social Networks (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;What would it mean to have a social network (like Dispora) that is decentralized, and independent of corporate ties? Could such a thing exist?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Then I was (am still) mad at Twitter for a while, which just stoked the Open Web flames.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/twitter-and-the-open-web/"&gt;Twitter and the Open Web (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Could it be that the time for new social networks is past us? I hope not. RSS succeeded as an open standard, and so did email (though email had an early start). The podcasting industry is growing, powered by RSS... RSS use floundered after Google Reader shutdown, but RSS is still with us. That's important.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/how-to-stimulate-the-open-web/"&gt;How to stimulate the open web (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Create systems that are ambivalent about the open or closed web. If I create a tool that's good at posting content to Facebook and Twitter, it should also post to RSS feeds...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I tried &lt;a href="https://www.xkcd.com/927/"&gt;making a standard once&lt;/a&gt;, but putting something on GitHub in a README doesn't make it a standard.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/the-open-microblog-standard/"&gt;The Open Microblog Standard (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;A few weeks ago I began drafting a new standard for open, platform independent communication service. You can think of it as Twitter meets RSS...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/making-rss-real-time/"&gt;Making RSS Real-Time (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;One of the critiques of RSS feeds in a world dominated by Facebook and Twitter is that RSS just isn't fast enough. You can't hope to achieve what Twitter calls "in-the-moment updates" and "watch events unfold" if your client is polling each web site's RSS feed once an hour for new microblog posts...&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After a while I started noticing that a lot of creators and bloggers I followed were moving back to open, platform-less distribution methods (like CGP Grey and his RSS feeds and email lists).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/the-professional-sharer/"&gt;The Professional Sharer (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;[Social Media Platforms] have to do this to make money. It just sucks that how they make money is by compromising the people that made the service what it is (&lt;em&gt;cough&lt;/em&gt; Twitter &lt;em&gt;cough&lt;/em&gt;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I was still mad at Twitter.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/twitter-is-not-a-replacement-for-blogs/"&gt;Twitter is not a replacement for blogs (2014)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Twitter is a complementary medium to blogging, but it's not a replacement...&lt;/p&gt;
&lt;p&gt;By knocking down a few walls and moving some furniture around, blogging is preparing for a comeback, and we'll all be better off for it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;More recently though I've gotten more realistic and still more optimistic about the future of social networks and openness. Facebook and Google's Algorithms still loom high and mighty, but I started to see a resistence forming, and then Manton Reece released &lt;a href="https://micro.blog"&gt;Micro.blog&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/a-vision-of-the-open-web/"&gt;A Vision of the Open Web (2016)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;I've long heard people say that we've lost video, music, and messaging to the walled worlds of YouTube, iTunes, and WhatsApp/Facebook/Twitter respectively, and while I believe that is the current state of the web, I don't believe it's the end-state.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/can-we-save-the-open-web/"&gt;Can we save the open web? (2016)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;If we're going to allow... algorithms to be such a huge part of our lives, which I don't believe is necessarily a bad thing, then they should at least be subject to some sort oversight.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/archive/mantons-microblog/"&gt;Manton's Micro.blog (2017)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;I've written lots of stuff about services like Manton's, and the Open Web in general. It's really important that we preserve not just the way the Web used to work, but as Manton says: the way it &lt;strong&gt;should work&lt;/strong&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The future looks bright for the open web and social networking, but the fight is ongoing.&lt;/p&gt;</description><category>open web</category><category> social networking</category><guid isPermaLink="true">http://brianschrader.com/archive/the-web-as-a-social-network</guid><pubDate>Fri, 02 Feb 2018 12:12:00 -0800</pubDate></item><item><title>Primitive Tech is Here for the Long Haul</title><link>http://brianschrader.com/archive/primitive-tech-is-here-for-the-long-haul/</link><description>&lt;p&gt;John's &lt;a href="https://primitivetechnology.wordpress.com/2017/11/24/new-area-starting-from-scratch/"&gt;most recent Primitive Technology blog post&lt;/a&gt; has me pretty excited. The new video is great, as his videos tend to be, but the post mentions something a bit more exciting.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I bought a new property to shoot primitive technology videos on. The new area is dense tropical rainforest with a permanent creek. Starting completely from scratch, my first project was to build a simple dome hut and make a fire.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is just me speculating here, but he wouldn't be buying a whole new plot of land to shoot videos on if he wasn't planning on making more videos long term. While I never had any reason to believe he'd be stopping anytime soon, such a big purchase is great news for him, his channel, and fans like me.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://primitivetechnology.wordpress.com/2017/11/24/new-area-starting-from-scratch/"&gt;Primitive Technology Blog &amp;#8594;&lt;/a&gt;&lt;/p&gt;</description><category>primitive technology</category><category> news</category><guid isPermaLink="true">http://brianschrader.com/archive/primitive-tech-is-here-for-the-long-haul</guid><pubDate>Fri, 24 Nov 2017 14:46:00 -0800</pubDate></item><item><title>The FCC Moves to Dismantle Net Neutrality</title><link>http://brianschrader.com/archive/the-fcc-moves-to-dismantle-net-neutrality/</link><description>&lt;p&gt;&lt;a href="https://techcrunch.com/2017/11/21/fcc-officially-moves-to-unwind-net-neutrality-rules/amp/"&gt;Jonathan Shieber for TechCrunch &amp;#8594;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Federal Communications Commission Chairman Ajit Pai today made good on his long-standing pledge to tackle regulations established in the last administration designed to protect the distribution of internet content.&lt;/p&gt;
&lt;p&gt;On Tuesday, Pai distributed to the other commissioners at the FCC a draft of his suggested rule changes under the auspices of the &#8220;Restoring Internet Freedom Order.&#8221;&lt;/p&gt;
&lt;p&gt;The move sets up a December 14 vote at the FCC that could have broad ramifications for the entire internet. Under the rules established by the Obama administration, internet providers are required to provide open access to their networks for all digital content.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I'm really sad to see the FCC going forward with their plan to dismantle the Net Neutrality protections. What's worse is that Ajit Pai seems to know full well what this will mean for the web, and seemingly no amount of public comment against his proposal can disuade him.&lt;/p&gt;
&lt;p&gt;It seems like the only recourse we really have now is either to chip away at Ajit Pai's resolve with public comments before the December vote, or wait for some act of Congress to reverse the decision: something I can't even imagine them doing.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://act.eff.org/action/congress-don-t-sell-the-internet-out"&gt;Help Protect the Internet by Contacting Your Representative &amp;#8594;&lt;/a&gt;&lt;/p&gt;</description><category>fcc</category><category> net neutrality</category><category> internet</category><guid isPermaLink="true">http://brianschrader.com/archive/the-fcc-moves-to-dismantle-net-neutrality</guid><pubDate>Thu, 23 Nov 2017 21:18:00 -0800</pubDate></item><item><title>MyGeneRank: Behind the Scenes of the Newest ResearchKit App</title><link>http://brianschrader.com/archive/mygenerank-behind-the-scenes-of-the-newest-researchkit-app/</link><description>&lt;p&gt;I'm super excited to announce that &lt;a href="https://mygenerank.scripps.edu"&gt;MyGeneRank&lt;/a&gt;, an app that I've been working on at my jobby-job at the &lt;a href="https://www.stsiweb.org"&gt;Scripps Translational Science Institute&lt;/a&gt; for a year and a half, is now available on the &lt;a href="TODO"&gt;App Store&lt;/a&gt;, and the source code is &lt;a href="https://github.com/TorkamaniLab/mygenerank-api"&gt;available on GitHub&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;I've wanted to talk about this project for a while, I've written many unpublished posts about how it works, and now the time is finally right. If you're looking for the scientific or research parts, I'm going to leave that to &lt;a href="http://www.biorxiv.org/content/early/2017/01/19/101519"&gt;the paper we published&lt;/a&gt;. I want to talk more about my experiences and what I've learned in building the system.&lt;/p&gt;
&lt;p&gt;As a quick overview: MyGeneRank is a ResearchKit based research study app aimed at providing users with their Genetic Risk for diseases, and measuring their reactions to this information. The first disease being Coronary Artery Disease. I'm definitely not a doctor, statistician, or biologist, and everyone else on the team handled all of the scientific work, but I am a Software Developer and I worked on the vast majority of the &lt;a href="https://github.com/TorkamaniLab/mygenerank-api"&gt;API&lt;/a&gt;, Computation Engine, &lt;a href="https://mygenerank.scripps.edu"&gt;Website&lt;/a&gt;, and &lt;a href="TODO"&gt;iOS App&lt;/a&gt; development, DevOps, and System Administration as the sole developer. I learned a hell of a lot during the last year and a half and looking back, I'm not sure how I even got this far. Since the source code is available, at least for the API, (iOS source is coming) so now you too can see my mistakes and pass judgement! &#127881;&lt;/p&gt;
&lt;h2&gt;From a Technical Perspective&lt;/h2&gt;
&lt;p&gt;Vaguely, MyGeneRank's backend has three main parts: a database (&lt;a href="https://twitter.com/tonymillion/status/417213069572714496"&gt;Postgres&lt;/a&gt;), a Django REST API (which is open source), and what we've called a Computation Engine. All of it runs in-house, maintained by yours truly. The API and database are pretty self-explanatory, and the "engine" is really a Celery cluster and Redis queue which runs, among other things, a series of Python wrapped command-line tools and custom R scripts to calculate a person's genetic risk given their &lt;a href="https://www.23andme.com"&gt;23andMe&lt;/a&gt; &lt;a href="https://api.23andme.com/docs/reference/"&gt;genotype data&lt;/a&gt;. While the computation stuff is a sort of special case (what with the CLI tools and R scripts), the API's design goal was to be as industry-standard practice as possible. It's 90% covered with tests, leverages Travis-CI, uses &lt;a href="http://www.django-rest-framework.org"&gt;DRF&lt;/a&gt; and &lt;a href="http://docs.celeryproject.org/en/latest/index.html"&gt;Celery&lt;/a&gt; for the vast majority of its work, and everything runs in Docker containers on CentOS.&lt;/p&gt;
&lt;p&gt;If this stack sounds familiar to readers of this site, then you're catching on. In my post about &lt;a href="/archive/adventurers-codex-the-stack/"&gt;Adventurer's Codex's stack&lt;/a&gt; I spelled out basically the same setup. In truth the stack for AC was heavily influenced by MyGeneRank. I took everything I learned building MyGeneRank and ported it to Adventurer's Codex a year later. That's how developers work, we do things once, then copy-pasta it everywhere.&lt;/p&gt;
&lt;h2&gt;Scientific Computing at Scale: Performance and Throughput&lt;/h2&gt;
&lt;p&gt;MyGeneRank has very demanding computational needs. Currently, we have &lt;strong&gt;178 cores and almost a terabyte of RAM&lt;/strong&gt; powering the app and its backend. Turns out, calculating a person's genetic risk, even using genotyping data and not &lt;a href="https://www.illumina.com/science/technology/next-generation-sequencing.html"&gt;NGS&lt;/a&gt;, requires a lot of computational power. Scaling this kind of intense scientific computation for public use was one of the most challenging (and enjoyable) parts of the project. But even now I don't really have many concrete answers to the problem other than the twin suggestions: add more cores and make your work as functional and therefore parallel as possible.&lt;/p&gt;
&lt;h4&gt;Into the Weeds for a Bit&lt;/h4&gt;
&lt;p&gt;The calculations needed to return a given user's genetic risk score can be broken into roughly 110 individual tasks and is mostly trivial to parallelize. What takes ~110 minutes of CPU time per user can be done in 3.5-4 minutes of wall time on our current system, but as any web developer knows, even that kind of processing time is hard to scale. The first couple tasks are run in series and then two chunks of tasks are run in parallel. The first chunk contains a single task which calculates the user's genetic ancestry, and the other chunk has 52 two-part tasks. This means that at any one time, 53 tasks per user are running during the bulk of the computation. These first 52 tasks take ~1.5-1.8 minutes each depending on which chromosome they're processing (&lt;a href="https://www.youtube.com/watch?v=C906lbkcYug"&gt;some are bigger than others&lt;/a&gt;) and then the second batch takes about the same amount of time per chunk. The genetic ancestry takes ~3.2 minutes. Once all of these tasks are complete there's a final step that calculates the actual risk score, which is fairly instantaneous. What this means is that the time from start to finish for a given user's score is parallelize-able up to ~54 cores, then it's core speed that matters, which is harder to improve. The extra cores we have allows us to calculate more scores at once, but &lt;strong&gt;even with our huge core count, we can only calculate ~3-4 users' scores at a time&lt;/strong&gt;. The good news is that all of the steps are really good at keeping memory use low; CPUs are the bottleneck here.&lt;/p&gt;
&lt;p&gt;Improving API and Website level performance is much more straightforward than doing the same for the backend. Like most sites, MyGeneRank sits behind an Nginx Reverse Proxy with some out of the box microcaching for popular pages.&lt;/p&gt;
&lt;p&gt;At time of writing, I'm not sure what the load will be like when we finally announce the study publicly, but I've spent a lot of time worrying about and trying to ensure that the site can handle the loads we hope for. There's been a &lt;a href="https://www.macworld.com/article/2895941/stanfords-researchkit-app-gained-more-users-in-24-hours-than-most-medical-studies-find-in-a-year.html"&gt;lot&lt;/a&gt; of &lt;a href="https://www.fastcompany.com/3058125/in-its-first-year-has-apples-researchkit-revolutionized-medical-research"&gt;interesting&lt;/a&gt; &lt;a href="http://parkinsonsnewstoday.com/2016/03/28/parkinsons-mpower-app-celebrates-milestone-12000-registered-users-upgrade-apple-product-launch/"&gt;news&lt;/a&gt; and &lt;a href="https://stories.appbot.co/how-i-got-2-3m-app-downloads-without-spending-a-cent-on-marketing-f4823b6bc779"&gt;blog posts&lt;/a&gt; over the years about what kind of download numbers an app, and especially a research app can expect, and I wanted to build MyGeneRank with those kinds of numbers in mind. Once the project has hit its first month I'm going to do a retrospective on how it all went and we'll see if my performance enhancements were enough.&lt;/p&gt;
&lt;h2&gt;Lessons Learned&lt;/h2&gt;
&lt;p&gt;There's a lot of little things that I've learned in building MyGeneRank (and later Adventurer's Codex). When we started, I'd worked on a few toy iOS apps and  a few corporate web projects, but MyGeneRank turned out to be of a completely different scale.&lt;/p&gt;
&lt;p&gt;Before MyGeneRank, I'd never used Django, or Django REST. I'd heard of them, and had a friend who used them, but aside from a few &lt;a href="https://github.com/HyperTextCoffeePot/HyperTextCoffeePot"&gt;toy projects&lt;/a&gt; in Flask, my web experience was in front-ends or Java/Spring (and I guess PHP). My work at that time was mostly in writing &lt;a href="https://github.com/TorkamaniLab/metapipe#metapipe"&gt;analysis pipelines in Python&lt;/a&gt; and since it's my preferred language, I wanted to use it for MyGeneRank. To this day, the structure of the API project is a little wonky and apps aren't where they should be; both are cruft from those early days. I try not to worry about it too much since I was learning as I went, and this kind of legacy cruft is impossible to avoid unless you knew everything at the start, and we most assuredly didn't. I can say that Django/Django REST has shown me just how boring building websites really is because it does most of it for you automatically and supports anything you'd ever really need right out of the box; you should definitely use it.&lt;/p&gt;
&lt;p&gt;The modern web is really complex and there's a reason that it takes so many skilled developers to build large systems. Server setup, administration, DevOps, reporting, and application development are all sub-disciplines unto themselves (which is why they're separate jobs at most places). And I've found that jumping in and out of these different worlds can result in a sort of Programmer's Jet Lag as your body adjusts to the new environment after spending days in a completely different one.&lt;/p&gt;
&lt;p&gt;On the native side, Apple's frameworks can be fun to use, and their OS frameworks, documentation, and user guides are world-class, but their tooling can also be frustrating and slow at times. The iOS app is written entirely in Swift and that has had some major effects on the development. Swift's tooling is still very new and the language has changed drastically since it came out. Having worked in both, I can say that, while I do enjoy Swift, nothing has made me appreciate the maturity of Python more.&lt;/p&gt;
&lt;p&gt;Overall, my advice for building these kinds of systems is the same as when I wrote a &lt;a href="/archive/adventurers-codex-behind-the-curtain/"&gt;similar post about Adventurer's Codex&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;...ask people who've done it before... The internet is great, but it's actually pretty difficult to find out how to design modern web systems from scratch with just a vague notion and Google.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;MyGeneRank, to me, represents my passing from a junior to a senior developer in a lot of ways. By no means have I learned all there is to know, but having now built two large web projects, and being the  sole developer for one of them, I feel like a different person from the one who started the project a year and a half ago. I'd love to know what you all think of the source, and if you find a bug, file an issue please.&lt;/p&gt;</description><category>django</category><category> software</category><category> technical overview</category><category> review</category><category> researchkit</category><guid isPermaLink="true">http://brianschrader.com/archive/mygenerank-behind-the-scenes-of-the-newest-researchkit-app</guid><pubDate>Wed, 25 Oct 2017 10:11:00 -0800</pubDate></item><item><title>OAuth Over XMPP</title><link>http://brianschrader.com/archive/oauth-over-xmpp/</link><description>&lt;p&gt;As &lt;a href="/archive/adventurers-codex-xmpp/"&gt;I've said before&lt;/a&gt;, &lt;a href="https://adventurerscodex.com"&gt;Adventurer's Codex&lt;/a&gt; uses XMPP for it's real-time features. During development we ran into a couple of interesting challenges with integrating such a mature system with our new-ish web stack, one of which was User Authentication.&lt;/p&gt;
&lt;p&gt;The majority of Adventurer's Codex uses an OAuth Provider model for user authentication but Ejabberd (our XMPP server) requires that the username and password be sent at connection time. Obviously we didn't want to have two different auth schemes to support, and we didn't want our client app to store any passwords (hence OAuth). We spent a while hunting for different possible solutions, and in the end we stumbled into a really simple one.&lt;/p&gt;
&lt;p&gt;Ejabberd allows for authentication to be handled by an external script, which allows us to use our core database as the auth backend. We could, in principle, use a Django management command to make a call to our database, hash the password that we were given by the client and compare it to the one stored in our database, but not only is that a lot of work and error prone, it's too coupled to our database layer, and it still required the client to store the user's password.&lt;/p&gt;
&lt;p&gt;In the end we went with what might seem like the obvious solution: just keep using OAuth. After the client receives the initial user data at load time, it sends the same OAuth token as the password along with the user's XMPP JID to Ejabberd. Ejabberd then calls out to an external script which makes an HTTP request to our API to see if the user exists and that the token is valid. Clean and simple.&lt;/p&gt;
&lt;p&gt;&lt;img alt="A visualization of the OAuth over XMPP process." src="/images/blog/xmpp-auth.svg" /&gt;&lt;/p&gt;
&lt;p&gt;There's a few major advantages to using this method. First, The client no longer has to store user passwords, which not only makes our implementation simpler, but also protects our users from a whole host of attacks. Second, the user's XMPP session is now bound to the same limits as the rest of their access to the site which greatly simplifies permissions handling. Third, and perhaps the most interesting is that Ejabberd is no longer tied to either the Django CLI or the database and can be spun off as essentially a separate microservice on another machine.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://gist.github.com/Sonictherocketman/aefd78575280978af0562a0b9841a903"&gt;Check out the Ejabberd Auth Script &amp;#8594;&lt;/a&gt;&lt;/p&gt;</description><category>django</category><category> software</category><category> xmpp</category><category> oauth</category><category> adventurerscodex</category><guid isPermaLink="true">http://brianschrader.com/archive/oauth-over-xmpp</guid><pubDate>Tue, 24 Oct 2017 18:24:00 -0800</pubDate></item><item><title>todolist update</title><link>http://brianschrader.com/archive/todolist-update/</link><description>&lt;p&gt;Over the last week, I've made some changes to &lt;a href="//gist.github.com/Sonictherocketman/77dd6cd8fd907dbbc00031acb08f3ba0"&gt;my todolist script&lt;/a&gt;: I've cleaned up the printing a bit and removed the temp file.&lt;/p&gt;
&lt;p&gt;&lt;img alt="todolist terminal output" src="/images/blog/todolist-update.png" /&gt;&lt;/p&gt;
&lt;p&gt;I had to remove the temp file because it was actually causing performance problems with BBEdit. Since the temp file came into and out of existence every few seconds, BBEdit's project view would dutifully redraw the project file list twice in quick succession, wasting quite a bit of CPU power&lt;sup&gt;1&lt;/sup&gt;, and sometimes causing my MacBook's fan to spin up. Now that the temp file is gone, that problem is too.&lt;/p&gt;
&lt;div class="footnote"&gt;
&lt;sup&gt;1. &lt;/sup&gt;I'm not sure why BBEdit needs so much power to redraw the project list and I've reached out to their support. Hopefully they can resolve the issue. At the very least my script is a little more well behaved so it's no longer an issue.
&lt;/div&gt;

&lt;p&gt;&lt;a href="//gist.github.com/Sonictherocketman/77dd6cd8fd907dbbc00031acb08f3ba0"&gt;todolist &amp;#8594;&lt;/a&gt;&lt;/p&gt;</description><category>development</category><category> bash</category><guid isPermaLink="true">http://brianschrader.com/archive/todolist-update</guid><pubDate>Tue, 10 Oct 2017 15:35:00 -0800</pubDate></item><item><title>Mini-Rant About Documentation</title><link>http://brianschrader.com/archive/mini-rant-about-documentation/</link><description>&lt;p&gt;I want to talk about documentation. iOS&lt;sup&gt;1&lt;/sup&gt;, Nginx, Python, DRF, Django, Celery, and Postgres have excellent documentation, but documentation only helps when your question is "How does this thing work and what does it do?" Documentation, at least code level docs, are useless when it comes to figuring out what you need in the first place. Celery can tell you how to use Celery, but it isn't as great at telling you why you might need it. I've become convinced that user guides are as, if not more, important than code level documentation, and we as a community need more of them.&lt;/p&gt;
&lt;div class="footnote"&gt;
1. For their credit, iOS and really all of Apple's developer resources have excellent user guides that explain not only how to use a thing, but why and where you might need it (thinking about it, this could be because iOS and macOS have been around long enough to develop these kinds of docs).
&lt;/div&gt;</description><category>development</category><category> programming</category><guid isPermaLink="true">http://brianschrader.com/archive/mini-rant-about-documentation</guid><pubDate>Mon, 09 Oct 2017 15:31:00 -0800</pubDate></item></channel></rss>